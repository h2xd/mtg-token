var e=Object.assign;import{d as n,o as t,c as o,a,r as s,b as l,e as r,t as i,f as u,g as c,w as d,p,h as k,F as y,i as v,D as h,M as m,j as f,k as b,u as w,l as g,m as _,T as C,n as x,q as I,s as B}from"./index.31480aa1.js";var S=n({props:{active:{type:Boolean,default:!1}}});var T={container:"_container_adb86_2",base:"_base_adb86_6",underlay:"_underlay_adb86_13",overlayed:"_overlayed_adb86_17",active:"_active_adb86_29"};(S.__cssModules={}).$style=T,S.render=function(e,n,l,r,i,u){return t(),o("div",{class:e.$style.container},[a("span",{class:[e.$style.base,e.$style.underlay]},[s(e.$slots,"default")],2),a("span",{class:[e.$style.base,e.$style.overlayed,e.active&&e.$style.active]},[s(e.$slots,"default")],2)],2)};const $={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-corner-down-left"},O=a("polyline",{points:"9 10 4 15 9 20"},null,-1),j=a("path",{d:"M20 4v7a4 4 0 0 1-4 4H4"},null,-1);const L={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-moon"},A=a("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},null,-1);function M(e){return`var(--mana-color-${e}-background)`}function P(e){return`var(--mana-color-${e}-text)`}const D={backgroundKey:"--mana-background",textKey:"--mana-text"};function H(n,t){const{backgroundKey:o,textKey:a}=e(e({},D),t);return{[o]:M(n),[a]:P(n)}}var F=n({name:"TokenCardDetail",components:{Icon:S,CornerDownLeftIcon:function(e,n){return t(),o("svg",$,[O,j])},MoonIcon:function(e,n){return t(),o("svg",L,[A])}},props:{token:Object,is:{type:String,default:"li"}},setup:e=>({manaStyles:l((()=>H(e.token.mana[0])))})});const N=d("data-v-1e66b433"),K=N(((e,n,s,l,d,p)=>{const k=r("CornerDownLeftIcon"),y=r("Icon"),v=r("MoonIcon");return e.token?(t(),o(u(e.is),{key:0,class:["card",e.token.isTapped&&"tapped"],style:e.manaStyles},{default:N((()=>[a("div",null,i(e.token.power)+" / "+i(e.token.toughness),1),a("div",null,[a(y,{active:e.token.isTapped},{default:N((()=>[a(k)])),_:1},8,["active"]),a(y,{active:e.token.hasSummoningSickness},{default:N((()=>[a(v)])),_:1},8,["active"])]),a("button",{onClick:n[1]||(n[1]=n=>e.$emit("death",e.token))},"Kill"),a("button",{onClick:n[2]||(n[2]=n=>e.$emit("copy",e.token))},"Clone")])),_:1},8,["class","style"])):c("",!0)}));F.render=K,F.__scopeId="data-v-1e66b433";var E=n({name:"Board",components:{TokenCardDetail:F},props:{board:Object},setup:e=>({handleDeath:n=>e.board.removeToken(n),handleCopy:n=>e.board.copyToken(n)})});const G=d("data-v-776e1f79");p("data-v-776e1f79");const W={key:0,class:"board"};k();const z=G(((e,n,s,l,u,d)=>{const p=r("TokenCardDetail");return t(),o(y,null,[a("div",null,"AttackPower: "+i(e.board.attackPower),1),a("div",null,[e.board.hasToken?(t(),o("ol",W,[(t(!0),o(y,null,v(e.board.token,(n=>(t(),o(p,{is:"li",key:n.uuid,token:n,onDeath:e.handleDeath,onCopy:e.handleCopy},null,8,["token","onDeath","onCopy"])))),128))])):c("",!0)])],64)}));E.render=z,E.__scopeId="data-v-776e1f79";var R={button:"_button_jkxpw_2"};const Y={};var q;(Y.__cssModules={}).$style=R,Y.render=function(e,n){return t(),o("button",{class:e.$style.button},[s(e.$slots,"default")],2)},(q||(q={})).FLYING="flying";const J={name:"Angel",slug:"angel",isFavorite:!1,tokenOptions:e(e({},h),{power:4,toughness:4,mana:[m.WHITE],attributes:[q.FLYING]})},Q={name:"Beast",slug:"beast",isFavorite:!1,tokenOptions:e(e({},h),{power:3,toughness:3,mana:[m.GREEN]})},U={name:"Soldier",slug:"soldier",isFavorite:!1,tokenOptions:e(e({},h),{power:1,toughness:1,mana:[m.WHITE]})};var V=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",AngelLibraryItem:J,BeastLibraryItem:Q,SoldierLibraryItem:U});const X=f({id:"library",state:()=>({entries:[...Object.values(V)]}),getters:{},actions:{}});const Z={},ee=d("data-v-8e6e9150");p("data-v-8e6e9150");const ne={class:"headline"},te={class:"text"};k();const oe=ee(((e,n)=>(t(),o("div",ne,[s(e.$slots,"icon"),a("h3",te,[s(e.$slots,"default")])]))));Z.render=oe,Z.__scopeId="data-v-8e6e9150";const ae={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-book"},se=a("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},null,-1),le=a("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},null,-1);var re=n({name:"Board",components:{BookIcon:function(e,n){return t(),o("svg",ae,[se,le])},Button:Y,Headline:Z},setup:()=>({Library:X()})});const ie=d("data-v-67fc2823");p("data-v-67fc2823");const ue={class:"library"},ce=b(" Library "),de=b("Summon");k();const pe=ie(((e,n,s,l,u,c)=>{const d=r("BookIcon"),p=r("Headline"),k=r("Button");return t(),o("div",ue,[a(p,null,{icon:ie((()=>[a(d)])),default:ie((()=>[ce])),_:1}),(t(!0),o(y,null,v(e.Library.entries,(n=>(t(),o("ul",{key:n.slug},[a("li",null,[a("div",null,i(n.name),1),a("div",null,i(n.tokenOptions.power)+"P / "+i(n.tokenOptions.toughness)+"T",1),a(k,{onClick:t=>e.$emit("summon",n)},{default:ie((()=>[de])),_:2},1032,["onClick"])])])))),128))])}));re.render=pe,re.__scopeId="data-v-67fc2823";const ke={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},ye=a("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),ve=a("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1);var he=n({name:"App",components:{CloseIcon:function(e,n){return t(),o("svg",ke,[ye,ve])}},setup(){const e=w();return g(e,(e=>{window.document.body.style.overflow=e.isOpen?"hidden":null})),{popupStore:e}}});const me={key:0,class:"popup"},fe=b("Close ");he.render=function(e,n,l,i,u,d){const p=r("CloseIcon");return t(),o(x,{to:e.popupStore.portalTarget},[e.popupStore.isOpen?(t(),o("div",{key:0,class:"popup-underlay",onClick:n[1]||(n[1]=n=>e.popupStore.close())})):c("",!0),a(C,{name:"bounce"},{default:_((()=>[e.popupStore.isOpen?(t(),o("div",me,[a("button",{onClick:n[2]||(n[2]=n=>e.popupStore.close())},[fe,a(p)]),a("div",null,[s(e.$slots,"default")])])):c("",!0)])),_:1})],8,["to"])};const be={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus"},we=a("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),ge=a("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1);const _e={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-minus"},Ce=a("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1);var xe=n({name:"LifePointsCounter",components:{Button:Y,PlusIcon:function(e,n){return t(),o("svg",be,[we,ge])},MinusIcon:function(e,n){return t(),o("svg",_e,[Ce])},Popup:he},props:{player:Object},setup(e){const n=l((()=>H(e.player.mana))),t=l((()=>Object.values(m).map((n=>({mana:n,selected:e.player.mana===n,styles:H(n)})))));return{styles:n,popupStore:w(),manaCollection:t}}});const Ie=d("data-v-40473265");p("data-v-40473265");const Be=b("Reset Game");k();const Se=Ie(((e,n,s,l,u,c)=>{const d=r("PlusIcon"),p=r("MinusIcon"),k=r("Button"),h=r("Popup");return t(),o(y,null,[a("div",{class:"container",style:e.styles},[a("div",{class:"counter",onClick:n[1]||(n[1]=n=>e.popupStore.open())},i(e.player.life.remainingLife),1),a("button",{onClick:n[2]||(n[2]=n=>e.player.life.raise(1)),class:"button raise"},[a(d)]),a("button",{onClick:n[3]||(n[3]=n=>e.player.life.reduce(1)),class:"button reduce"},[a(p)])],4),a(h,null,{default:Ie((()=>[(t(!0),o(y,null,v(e.manaCollection,(n=>(t(),o("button",{key:n.mana,class:["manaButton",n.selected&&"selected"],style:n.styles,onClick:t=>e.player.setManaType(n.mana)},null,14,["onClick"])))),128)),a("div",null,[a(k,{onClick:n[4]||(n[4]=n=>e.player.reset())},{default:Ie((()=>[Be])),_:1})])])),_:1})],64)}));xe.render=Se,xe.__scopeId="data-v-40473265";var Te=n({name:"OnePlayerWithBoard",components:{Board:E,Button:Y,Library:re,LifePointsCounter:xe},setup(){const n=I(),t=n.players[0];return{player1:t,appStore:n,handleAttackAll:()=>t.board.attackWithAll(),handleNextTurn:()=>t.nextTurn(),handleSummon:n=>{const o=new B(e({},n.tokenOptions));t.board.addToken(o)}}}});const $e=b("Attack with all"),Oe=b("Next Turn");Te.render=function(e,n,s,l,i,u){const c=r("LifePointsCounter"),d=r("Board"),p=r("Button"),k=r("Library");return t(),o(y,null,[a(c,{player:e.player1},null,8,["player"]),a(d,{board:e.player1.board},null,8,["board"]),a(p,{onClick:e.handleAttackAll},{default:_((()=>[$e])),_:1},8,["onClick"]),a(p,{onClick:e.handleNextTurn},{default:_((()=>[Oe])),_:1},8,["onClick"]),a(k,{onSummon:e.handleSummon},null,8,["onSummon"])],64)};export default Te;
