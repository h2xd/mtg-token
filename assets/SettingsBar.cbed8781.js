var e=Object.assign;import{d as n,o as t,c as o,r as a,m as l,n as r,q as s,a as u,b as i,e as c,s as p,l as d,t as m,g as y,v as f,x as v,k as w,M as h,F as _,i as k,u as b}from"./index.910c8812.js";function g(e){return`var(--mana-color-${e}-background)`}function x(e){return`var(--mana-color-${e}-text)`}const C={backgroundKey:"--mana-background",textKey:"--mana-text"};function P(n,t){const{backgroundKey:o,textKey:a}=e(e({},C),t);return{[o]:g(n),[a]:x(n)}}var $=n({props:{clean:{type:Boolean,default:!1}}});var I={button:"_button_och5e_2",clean:"_clean_och5e_14"};($.__cssModules={}).$style=I,$.render=function(e,n,l,r,s,u){return t(),o("button",{class:[e.$style.button,e.clean&&e.$style.clean]},[a(e.$slots,"default")],2)};var S=n({render(){return this.displayNumber},props:{number:{type:Number,default:0},tickDuration:{type:Number,default:50},tickStrength:{type:Number,default:20}},setup(e){const n=l(0),t=l(e.number),o=()=>window.clearInterval(n.value);return r((()=>e.number),(()=>{o(),e.number!==t.value&&(n.value=window.setInterval((()=>{if(t.value!=e.number){let n=(e.number-t.value)/e.tickStrength;n=n>=0?Math.ceil(n):Math.floor(n),t.value=t.value+n}}),e.tickDuration))})),s((()=>o())),{displayNumber:t}}});const V={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-plus"},D=u("line",{x1:"12",y1:"5",x2:"12",y2:"19"},null,-1),H=u("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1);const L={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-minus"},B=u("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1);var M=n({name:"LifePointsCounter",components:{AnimatedInteger:S,PlusIcon:function(e,n){return t(),o("svg",V,[D,H])},MinusIcon:function(e,n){return t(),o("svg",L,[B])}},props:{commitValue:{type:Number,default:0},lifeAmount:{type:Number,required:!0},mana:{type:String,required:!0}},setup(e){const n=i((()=>e.commitValue>0||e.commitValue<0)),t=l(0);return{hasCommitValue:n,createPointerDownHandler:e=>{e(),t.value=window.setInterval(e,175)},clearPointerDownHandler:()=>{window.clearInterval(t.value)},decoradedCommitValue:i((()=>e.commitValue>0?`+${e.commitValue}`:e.commitValue)),styles:i((()=>P(e.mana)))}}});var j={square:"_square_se8ac_2",container:"_container_se8ac_8",counter:"_counter_se8ac_23",commitValue:"_commitValue_se8ac_27",button:"_button_se8ac_35",reduce:"_reduce_se8ac_67",raise:"_raise_se8ac_75"};(M.__cssModules={}).$style=j,M.render=function(e,n,a,l,r,s){const i=c("AnimatedInteger"),f=c("MinusIcon"),v=c("PlusIcon");return t(),o("div",{class:e.$style.square},[u("div",{class:e.$style.container,style:e.styles},[u(p,{name:"bounce"},{default:d((()=>[e.hasCommitValue?(t(),o("div",{key:0,class:e.$style.commitValue},m(e.decoradedCommitValue),3)):y("",!0)])),_:1}),u("div",{class:e.$style.counter,onClick:n[1]||(n[1]=n=>e.$emit("click-number"))},[u(i,{number:e.lifeAmount},null,8,["number"])],2),u("button",{onPointerdown:n[2]||(n[2]=n=>e.createPointerDownHandler((()=>e.$emit("reduce")))),onPointerup:n[3]||(n[3]=(...n)=>e.clearPointerDownHandler&&e.clearPointerDownHandler(...n)),onLostpointercapture:n[4]||(n[4]=(...n)=>e.clearPointerDownHandler&&e.clearPointerDownHandler(...n)),class:[e.$style.button,e.$style.reduce]},[u(f)],34),u("button",{onPointerdown:n[5]||(n[5]=n=>e.createPointerDownHandler((()=>e.$emit("raise")))),onPointerup:n[6]||(n[6]=(...n)=>e.clearPointerDownHandler&&e.clearPointerDownHandler(...n)),onLostpointercapture:n[7]||(n[7]=(...n)=>e.clearPointerDownHandler&&e.clearPointerDownHandler(...n)),class:[e.$style.button,e.$style.raise]},[u(v)],34)],6)],2)};const N={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},A=u("line",{x1:"18",y1:"6",x2:"6",y2:"18"},null,-1),q=u("line",{x1:"6",y1:"6",x2:"18",y2:"18"},null,-1);var O=n({name:"App",components:{CloseIcon:function(e,n){return t(),o("svg",N,[A,q])}},setup(){const e=f();return r(e,(e=>{window.document.body.style.overflow=e.isOpen?"hidden":null})),{popupStore:e}}});const R={key:0,class:"popup"},K=w("Close ");O.render=function(e,n,l,r,s,i){const m=c("CloseIcon");return t(),o(v,{to:e.popupStore.portalTarget},[e.popupStore.isOpen?(t(),o("div",{key:0,class:"popup-underlay",onClick:n[1]||(n[1]=n=>e.popupStore.close())})):y("",!0),u(p,{name:"bounce"},{default:d((()=>[e.popupStore.isOpen?(t(),o("div",R,[u("button",{onClick:n[2]||(n[2]=n=>e.popupStore.close())},[K,u(m)]),u("div",null,[a(e.$slots,"default")])])):y("",!0)])),_:1})],8,["to"])};var T=n({name:"LifePoints",components:{LifePointsCounter:M,Popup:O},props:{player:Object},setup(e){const n=i((()=>Object.values(h).map((n=>{var t;return{mana:n,selected:(null==(t=e.player)?void 0:t.mana)===n,styles:P(n)}})))),t=f(),o=l(t.generateId()),a=i((()=>t.selectedId===o.value));return{popupStore:t,popupId:o,isPopupSelected:a,manaCollection:n}}});var z={manaButton:"_manaButton_14cba_2",selected:"_selected_14cba_13"};(T.__cssModules={}).$style=z,T.render=function(e,n,a,l,r,s){const i=c("LifePointsCounter"),p=c("Popup");return t(),o(_,null,[u(i,{"commit-value":e.player.life.commitValue,"life-amount":e.player.life.remainingLife,mana:e.player.mana,onRaise:n[1]||(n[1]=n=>e.player.life.raise(1)),onReduce:n[2]||(n[2]=n=>e.player.life.reduce(1)),onClickNumber:n[3]||(n[3]=n=>e.popupStore.open(e.popupId))},null,8,["commit-value","life-amount","mana"]),e.isPopupSelected?(t(),o(p,{key:0},{default:d((()=>[(t(!0),o(_,null,k(e.manaCollection,(n=>(t(),o("button",{key:n.mana,class:[e.$style.manaButton,n.selected&&e.$style.selected],style:n.styles,onClick:t=>e.player.setManaType(n.mana)},null,14,["onClick"])))),128)),u(i,{"life-amount":e.player.life.remainingLife,mana:e.player.mana},null,8,["life-amount","mana"])])),_:1})):y("",!0)],64)};const F={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-hexagon"},G=u("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},null,-1);const E={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-layout"},J=u("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),Q=u("line",{x1:"3",y1:"9",x2:"21",y2:"9"},null,-1),U=u("line",{x1:"9",y1:"21",x2:"9",y2:"9"},null,-1);var W=n({components:{Button:$,Popup:O,HexagonIcon:function(e,n){return t(),o("svg",F,[G])},LayoutIcon:function(e,n){return t(),o("svg",E,[J,Q,U])}},setup(){const e=f(),n=l(e.generateId()),t=i((()=>e.selectedId===n.value)),o=b();return{popupStore:e,popupId:n,isPopupSelected:t,appStore:o,handleLayoutChange:n=>{e.close(),o.setLayout(n)},handleReset:()=>{e.close(),o.reset()}}}});var X={container:"_container_4r1vi_2",button:"_button_4r1vi_7"};const Y=w("Reset Game");(W.__cssModules={}).$style=X,W.render=function(e,n,a,l,r,s){const i=c("HexagonIcon"),p=c("Button"),f=c("LayoutIcon"),v=c("Popup");return t(),o(_,null,[u("div",{class:e.$style.container},[u(p,{class:e.$style.button,clean:!0,onClick:n[1]||(n[1]=n=>e.popupStore.open(e.popupId))},{default:d((()=>[u(i)])),_:1},8,["class"])],2),e.isPopupSelected?(t(),o(v,{key:0},{default:d((()=>[u("div",null,[u(p,{onClick:e.handleReset},{default:d((()=>[Y])),_:1},8,["onClick"])]),u(f),u("div",null,[(t(!0),o(_,null,k(e.appStore.layouts,(n=>(t(),o(p,{key:n.name,onClick:t=>e.handleLayoutChange(n)},{default:d((()=>[w(m(n.name),1)])),_:2},1032,["onClick"])))),128))])])),_:1})):y("",!0)],64)};export{$ as _,T as a,W as b,P as m};
